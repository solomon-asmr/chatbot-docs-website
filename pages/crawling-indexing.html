<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Page Title -->
    <title>Chatbot Platform Docs - Crawling & Indexing</title>
    <!-- Bootstrap CSS via CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Optional: Add custom CSS file later if needed -->
    <!-- <link href="css/custom.css" rel="stylesheet"> -->

    <style>
      /* Small CSS adjustments if needed */
      body {
        padding-top: 56px; /* Adjust if using fixed-top navbar */
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      main {
        flex: 1; /* Allows footer to stick to bottom */
      }
    </style>
  </head>
  <body class="bg-light">
    <!-- Navigation Bar (Bootstrap Navbar) -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">Chatbot Platform Docs</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <!-- Inside the <nav> in pages/crawling-indexing.html -->
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/architecture.html"
                >Architecture</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/dashboard.html">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/widget.html">Widget</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/pages/backend-api.html">Backend API</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#"
                >Crawling</a
              >
            </li>
            {/* Added active class */}
            <!-- Add more links later -->
          </ul>
          <!-- Optional: Add search or other elements here -->
        </div>
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="container mt-4 mb-5">
      <!-- Page Specific Content Goes Here -->
      <div class="p-4 p-md-5 mb-4 bg-white rounded-3 shadow-sm">
        <div class="container-fluid">
          <h1 class="display-6 fw-bold mb-4">Crawling and Indexing Module</h1>
          <p class="fst-italic text-muted mb-4">
            Part of: Server-Side Components
          </p>

          <p class="lead mb-4">
            This module is responsible for gathering website content and
            preparing it for the AI assistant's knowledge base. It runs when a
            new site is added or when content needs refreshing.
          </p>
          <div class="text-center mb-4">
            <!-- Centering the image -->
            <img
              src="/images/crawling.jpg"
              class="img-fluid rounded shadow-sm border"
              alt="System Architecture Diagram including Client Side, Server Side, Database and External APIs"
            />
            <!-- Make sure the image path /images/architecture-diagram.png is correct -->
          </div>

          <h2 class="h5 mt-4 mb-3">Process Steps:</h2>
          <ol class="list-group list-group-numbered mb-4">
            <li class="list-group-item">
              <strong>Fetch Pages:</strong> Starts from the provided URL,
              follows links (respecting `robots.txt` and crawl limits).
            </li>
            <li class="list-group-item">
              <strong>Extract Text:</strong> Retrieves HTML content and parses
              it to extract readable text, stripping irrelevant elements
              (navigation, scripts).
            </li>
            <li class="list-group-item">
              <strong>Segment Text:</strong> Divides the extracted text into
              smaller, manageable chunks (e.g., a few hundred words) suitable
              for AI model context limits.
            </li>
            <li class="list-group-item">
              <strong>Generate Embeddings:</strong> Uses an embedding model
              (potentially via external API like OpenAI's
              `text-embedding-ada-002`) to create a high-dimensional vector
              representation for each text chunk. This enables semantic search.
            </li>
            <li class="list-group-item">
              <strong>Store Data:</strong> Saves the text chunks and their
              corresponding vector embeddings into the database (e.g.,
              `WebsiteContent` table).
            </li>
            <li class="list-group-item">
              <strong>Update Timestamp:</strong> Records when the site was last
              indexed to track freshness.
            </li>
          </ol>

          <div class="card bg-light border-secondary mb-4">
            <!-- Bootstrap Card for emphasis -->
            <div class="card-body">
              <h5 class="card-title text-secondary">
                <i class="bi bi-arrow-repeat me-2"></i>Synchronization
              </h5>
              <p class="card-text mb-0">
                This process can run as a background job, ensuring the
                assistant's knowledge stays in sync with website changes and
                addressing the owner's need for easy data source updates.
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer mt-auto py-3 bg-secondary text-white">
      <div class="container text-center">
        <span class="text-white"
          >Â© 2023 Your Company Name. All rights reserved.</span
        >
      </div>
    </footer>

    <!-- Bootstrap Bundle JS (includes Popper) via CDN -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Optional: Add custom JS file later -->
    <!-- <script src="js/script.js"></script> -->
  </body>
</html>
